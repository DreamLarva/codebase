<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="../js/jquery-1.12.3.js"></script>
  <style>

  </style>
</head>
<body>

<br>

<div id="div1">
  {{data.a}}
  <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
    odit
    possimus
    provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
    nobis?</p>
  {{data.c}}{{data.a}}
  <div>
    {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?
      {{data.a}}

    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}} {{data.a}}
    <p class="abac{{data.b}}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad architecto deserunt mollitia
      odit
      possimus
      provident quidem repellat, sit! Ex iste minima modi? Amet consequuntur distinctio dolores in natus nesciunt
      nobis?</p>
    {{data.c}}{{data.a}}
  </div>

</div>


<script>
  $(function () {
    var data = {
      a: 1111,
      b: 2222,
      c: 3333
    };
    var target = document.getElementById("div1");

    //template
    function template(target, data) {
      var iterator = document.createNodeIterator(target, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT,
        null, false);
      //遍历节点
      var node = iterator.nextNode();
      while (node !== null) {
        if (node.nodeType == 3) { //文档节点
//          console.log(node.nodeValue);
          node.nodeValue = translate(node.nodeValue)
        } else { //元素节点
//          console.log(node.nodeName);
          outputAttributes(node)
        }
        node = iterator.nextNode();
      }
      //遍历元素节点的 attribute
      function outputAttributes(element) {
        var i, len;
        for (i = 0, len = element.attributes.length; i < len; i++) {
          element.attributes[i].nodeValue = translate(element.attributes[i].nodeValue)
        }
      }

      //解释
      function translate(value) {
        if (/{{.*?}}/g.test(value)) {
          return value.replace(/{{(.*?)}}/g, function (all, $1) {
            return eval('(' + $1 + ')')
          })
        }
        return value
      }
    }

    var start = new Date();
    template(target, data)
    var end = new Date()
    console.log(end - start)
  })

</script>
</body>
</html>