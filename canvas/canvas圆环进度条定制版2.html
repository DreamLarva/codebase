<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<canvas id="canvas" width="500px" height="500px">60%</canvas>
<button onclick="drawProcess()" id="btn">start</button>

<script>

    document.getElementById("btn").addEventListener("click",function(){
        drawProcess({
            canvas:document.getElementById("canvas"),
            center:{x:"50%",y:"50%"}
        })
    });



    let process = 0;

    function drawProcess({canvas,center}) {


        if (process < 66) {
            process += 1
        } else if(process === 0){

        }else if(process >= 66){
            return
        }


        var text = process + "%";
        var context = canvas.getContext("2d");
        context.clearRect(0, 0, 500, 500);


        for (let i = 0; i <= process; i++) {
            context.beginPath();
            context.moveTo("50%", "50%");
            //          圆心x   圆心y   起始弧度       结束弧度                                   顺时针还是逆时针
            context.arc(250, 250, 250, Math.PI * 2 * i / 100 - Math.PI / 2, Math.PI * 2 * (i + 0.1) / 100 - Math.PI / 2);
            context.closePath();
            context.fillStyle = '#e4393c';
            context.fill();
        }


        context.beginPath();
        context.moveTo(250, 250);
        context.arc(250, 250, 210, 0, Math.PI * 2, true);
        context.closePath();
        context.fillStyle = 'rgba(255,255,255,1)';
        context.fill();


        context.font = "bold 9pt Arial";
        context.fillStyle = '#e4393c';
        context.textAlign = 'center';
        context.baseline = 'middle';
        context.moveTo(250, 250);
        context.fillText(text, 250, 280);

        setTimeout(() => drawProcess(), 1000 / 60)
    }
</script>
</body>
</html>