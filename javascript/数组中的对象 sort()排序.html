<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  //by函数接受一个成员名字符串和一个可选的次要比较函数做为参数
  //并返回一个可以用来包含该成员的对象数组进行排序的比较函数
  //当o[age] 和 p[age] 相等时，次要比较函数被用来决出高下
  var by = function(name,minor){
    return function(o,p){
      var a,b;
      if(o && p && typeof o === 'object' && typeof p ==='object'){
        a = o[name];
        b = p[name];
        if(a === b){
          return typeof minor === 'function' ? minor(o,p):0;
        }
        if(typeof a === typeof b){
          return a < b ? -1:1;
        }
        return typeof a < typeof b ? -1 : 1;
      }else{
        throw error("error");
      }
    }
  }

 var arr = [
   {a:2,b:1,c:2},
   {a:1,b:2,c:1},
   {a:2,b:1,c:1},
   {a:2,b:2,c:3},
   {a:1,b:2,c:2},
   {a:1,b:1,c:1},
   {a:2,b:2,c:1},
 ];

  console.log(arr.sort(by('a',by('b',by('c')))))
</script>
</body>
</html>